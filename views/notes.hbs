<!DOCTYPE html>
<html>
    <head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
       body{
           background-color: rgb(171, 137, 202);
       }
       #append{
       
           background-color: white;
           width: 70vw;
           margin: auto;
           padding: 10px;
            height: 70vh;
        max-height:70vh;
        line-height: 1.5;
  box-sizing: border-box;
  background-color: rgba(0, 0, 0, 0.479);
 
       

       }
       #b,#a{
         
         color: whitesmoke;
          background-color: rgba(0, 0, 0, 0.479);
         width:100%;
         height: 100%;
         
       }
       #a{
         font-size: 3vmin;
       }
       
      
       .container {
  background-color: #fdfdfd;
  height: 100%;
  width: 100%;
  border-radius: 6px;
  box-shadow: 0 4px 28px rgba(126, 160, 168, 0.76);
  border: 1px solid #d6dee1;
  padding: 1rem;
  overflow: scroll;
}
.container::-webkit-scrollbar {
  width: 20px;
}
.container::-webkit-scrollbar-thumb:hover {
  background-color: #43646b;
}
.container::-webkit-scrollbar-track {
  background-color: transparent;
}
.container::-webkit-scrollbar-thumb {

  background-color: #d6dee1;
  border-radius: 20px;
  border: 6px solid transparent;
  background-clip: content-box;
}

img{
    width:40px;
    height: 40px;
    position: relative;
    top: -10px;
    border-radius: 2px;
    
}

footer div{
             border: 2px solid black;
           }

           body{
               min-height: 100vh;
               display: flex;
               flex-direction: column;
           }
           #error{

width: fit-content;
         margin: auto;
         margin-top: 5%;
         flex-grow: 1;
           }
#make{
  margin: auto;
  margin-top: 3px;
  width: fit-content;
}
#make h1{
  font-size:6vmax;
  font-size: 7vmin;
}

#subject{
  margin:auto;
  width:150px;
  margin-bottom: 5px;
  
}
#cn{

 display: flex;
 flex-direction: row;
  margin-bottom: 5px;
  justify-content: space-around;
  border:2px solid black ;
  background-color: blueviolet;
 
}

#add{
  width:fit-content;
  margin: auto;
  
}
#toggle{
  display: none;
}

#append{
  display: none;
}
#msg{
  
           width: 70vw;
           margin: auto;
           padding: 10px;
            height: 70vh;
        max-height:70vh;
        line-height: 1.5;
        text-align: center;
  box-sizing: border-box;
  
}
#msg h1{
  margin-top:10%
}

    </style>
    
    
    </head>

        {{>header}}
        <h1 id="note" style="display: none;">{{data}}</h1>
        <h1 id="subject" style="display: none;">{{subject}}</h1>
        <div id="make"><h1 > <img src="https://cdn3.iconfinder.com/data/icons/medical-2-16/64/181-512.png" style="margin-top: 8px;"> Make your Notes</h1></div>
       <div id="add"><input type="button" value="ADD Your Subject" class="btn btn-primary" id="your"><br><br><div id="toggle"><input type="text" id="text"><input type="button" value="+"  id="input" class="btn btn-primary btn-sm" style="margin-top: -3px;"></div><br></div>
         <div id="cn"><button class="btn btn-primary btn-lg" id="btn1">CSA</button><button class="btn btn-primary btn-lg"id="btn2">CN</button><button class="btn btn-lg  btn-primary"id="btn3">OS</button></div>
          <div id="msg"><h1>Get Your Notes By clicking on Particular subject</h1></div>
         <div id="append" id="error">
          
        <form id="b" action="/notes" method="post" >
        <textarea  id="a"  class="container custom-scrollbar" onchange='this.form.submit()' name="text"></textarea>
        <input type="text" name="sub" id="name" style="display: none;" value="CSA">
        </form>
         </div>

        <h1>{{value}}</h1>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        
<script>
  const data=document.getElementById("note").innerHTML;
  const sub=document.getElementById("subject").innerHTML;
  var arr=data.split(",")
  var subject=sub.split(",")
  document.getElementById("a").value="Get Your Notes By clicking on Particular subject";


 $(document).ready(function(){
   $("#your").click(function(){
     $("#toggle").show();
   })
   $("#input").click(function(){
     $("#toggle").hide();
   })
         $("#cn").html("")

          for(var i=0;i<subject.length;i++){
            console.log(subject[i])
            $("#cn").append("<button class='btn btn-primary' >"+subject[i]+"</button>")
          }
  } )

  
   $(document).ready(function(){
     $("#input").click(function(){
    var input=$("#text").val()
    if(input!=''){
   $("#cn").append("<button class='btn btn-primary' >"+input+"</button>")}
     $("#cn button").click(function(e){
      
      $("button").css("background-color","blue")
      $(e.target).css("background-color","red")
      $("#name").attr({
        "value":e.target.innerHTML
      })
      
      var a=-1;
      for(var i=0;i<subject.length;i++){
       
        if(subject[i]==e.target.innerHTML){
          
          a=i;
          break;
        }
      }
      
      if(a==-1){
        $("#a").val("")
      }
       console.log(arr[a])
      $("#a").val(arr[a])
    })

   
  })
    } )

    
  $(document).ready(function(){
     
    
    $("#cn button").click(function(e){
      console.log("button")
      $("#append").show()
      $("#msg").hide()
      $("button").css("background-color","blue")
      $(e.target).css("background-color","red")
      $("#name").attr({
        "value":e.target.innerHTML
      })
      
      var a=0;
      for(var i=0;i<subject.length;i++){
       
        if(subject[i]==e.target.innerHTML){
          
          a=i;
          break;
        }
      }
       console.log(arr[a])
      $("#a").val(arr[a])
    })

   
    
  })
  
</script>
            {{>footer}}
    </body>
</html>